/* Game page specific styles */

.middle{ display:flex; flex-direction:column; gap:8px; min-height:0; flex:1; }
.boardWrap{ flex:1; display:flex; align-items:center; justify-content:center; min-height:0; }

.grid{
  display:grid; gap:var(--gap);
  background:linear-gradient(180deg, #0c0d11, #0d1016);
  padding:12px; border-radius:16px; border:1px solid #1e2230;
  box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);
  width:100%; height:100%; /* will be sized square via JS */
}

.tile{
  position:relative; aspect-ratio:1/1; border-radius:12px; border:1px solid #242a39;
  background:var(--tile);
  display:flex; align-items:center; justify-content:center; user-select:none;
  font-weight:800; font-size:clamp(16px, 4.2vw, 28px); letter-spacing:.02em;
  transition: transform .05s ease, background .15s ease, box-shadow .15s ease;
  touch-action:manipulation;
  overflow:hidden; /* contain fill bar within rounded corners */
}
.tile:hover{ background:var(--tile-hover) }
.tile.selected{
  outline:2px solid var(--accent); outline-offset:-2px;
  box-shadow: 0 0 0 4px rgba(110,231,183,.12);
  transform: translateY(-1px);
}
/* Danger levels based on stack height */
.tile.warn{
  background: #2b2015;
  border-color: #51371b;
  box-shadow: inset 0 0 0 1px rgba(255,165,0,.08);
}
.tile.danger{
  background: #311718;
  border-color: #5a2326;
  box-shadow: inset 0 0 0 1px rgba(239,68,68,.12);
}
.badge{
  position:absolute; right:6px; top:6px;
  color:#fff; font-weight:800;
  font-size: clamp(10px, 2.8vw, 12px);
  line-height:1;
  text-shadow: 0 1px 2px rgba(0,0,0,.6);
  pointer-events:none;
}

/* Fill method visuals */
.fillBar{
  position:absolute;
  left:0; right:0; bottom:0;
  height:0%;
  background: rgba(16, 185, 129, .28); /* green tint (default 0-50%) */
  transition: height .18s ease;
  pointer-events:none;
}
.fillBar.orange{ background: rgba(245, 158, 11, .28) } /* >50%-70% */
.fillBar.red{ background: rgba(239, 68, 68, .3) }     /* >70% */

.tile .letter{
  position:relative; z-index:1; /* above fill bar */
}

.blink::after{
  content:""; position:absolute; inset:0; border-radius:12px;
  border:2px dashed var(--blink); animation: blink 0.6s linear infinite;
}
@keyframes blink{ 0%{opacity:.15} 50%{opacity:1} 100%{opacity:.15} }

/* Under-grid action bar */
.underBar{
  display:flex; gap:8px; align-items:center; justify-content:center; flex-wrap:wrap;
  margin-bottom: clamp(16px, 4vw, 28px);
}
.wordbar{
  flex:1; min-width:240px;
  background:#11131a; border:1px solid #222733; border-radius:12px; padding:10px 12px; display:flex; gap:10px; align-items:center; justify-content:space-between;
}
.wordbar .label{ color:var(--muted); font-size:12px }
.wordbar .letters{ font-weight:800; letter-spacing:.06em; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.wordbar .pts{ color:var(--muted) }

/* Game page footer extras */
.note{ display:block; margin-top:2px }

/* Responsive layout assist for board sizing context elements */
.layout-measure{
  /* Helper class if needed for measuring available width */
}

/* Split actions below board (Clear | Submit) */
.submitSplit{
  display:flex;
  gap:8px;
  align-items:stretch;
  width:100%;
}
.splitBtn{
  flex:1 1 0;
  padding:16px 18px;
  font-size:18px;
}

/* Header word pill auto-shrink support */
.wordPill .autoShrink{
  display:inline-block;
  max-width:28vw;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  vertical-align:middle;
}

/* Header 3-area grid: left controls, centered word, right actions */
.hdrGrid{
  display:grid;
  grid-template-columns: 1fr auto 1fr;
  align-items:center;
  gap:8px;
}
.hdrLeft{ justify-self:start }
.hdrCenter{ justify-self:center }
.hdrRight{ justify-self:end }
